<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Thi tr·∫Øc nghi·ªám</title>
  <style>
    body {font-family: Arial, sans-serif; background: linear-gradient(135deg,#74ebd5,#acb6e5); margin:0; padding:0;}
    .container {max-width: 900px; margin: 40px auto; background: #fff; border-radius: 12px; padding: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.15);}    
    h1 {text-align:center; color:#333;}
    .question {margin-bottom: 20px;}
    .question h3 {margin-bottom:10px;}
    label {display:block; padding:6px 10px; border-radius:6px; cursor:pointer;}
    label:hover {background:#f0f0f0;}
    button {padding:10px 20px; font-size:16px; border:none; border-radius:8px; background:#4CAF50; color:#fff; cursor:pointer;}
    button:hover {opacity:0.9;}
    #login {text-align:center;}
    #quiz {display:none;}
    #result {display:none; text-align:center; font-size:20px; color:#d32f2f;}
  </style>
</head>
<body>
<div class="container">
  <h1>üìù B√ÄI THI TR·∫ÆC NGHI·ªÜM</h1>
  <div id="timer" style="text-align:center;font-size:18px;color:#1976d2;font-weight:bold;display:none;">‚è≥ Th·ªùi gian: 15:00</div>

  <!-- Ph·∫ßn nh·∫≠p m√£ -->
  <div id="login">
    <p>Nh·∫≠p m√£ ƒë·ªÉ v√†o thi:</p>
    <input type="text" id="code" placeholder="Nh·∫≠p m√£" />
    <br><br>
    <button onclick="startQuiz()">V√†o thi</button>
  </div>

  <!-- Ph·∫ßn b√†i thi -->
  <form id="quiz"></form>

  <!-- K·∫øt qu·∫£ -->
  <div id="result"></div>
</div>

<script>
// ====== M√É D·ª∞ THI ======
const validCode = "12345"; // ƒë·ªïi m√£ t·∫°i ƒë√¢y
let used = false;

// ====== NG√ÇN H√ÄNG 35 C√ÇU H·ªéI ======
const allQuestions = [
  {q:"C++ l√† ng√¥n ng·ªØ g√¨?", a:["Th√¥ng d·ªãch","L·∫≠p tr√¨nh","ƒê√°nh d·∫•u","Thi·∫øt k·∫ø"], c:1},
  {q:"K√Ω hi·ªáu k·∫øt th√∫c l·ªánh trong C++?", a:[".",",",";",":"], c:2},
  {q:"Th∆∞ vi·ªán nh·∫≠p xu·∫•t chu·∫©n?", a:["<math>","<iostream>","<string>","<vector>"], c:1},
  {q:"To√°n t·ª≠ AND l√†?", a:["&&","||","!","&"], c:0},
  {q:"Bi·∫øn ki·ªÉu s·ªë nguy√™n?", a:["float","double","int","char"], c:2},
];

// T·ª± ƒë·ªông th√™m c√¢u m·∫´u cho ƒë·ªß 35
for(let i=6;i<=35;i++){
  allQuestions.push({
    q:`C√¢u h·ªèi s·ªë ${i}?`,
    a:["ƒê√°p √°n A","ƒê√°p √°n B","ƒê√°p √°n C","ƒê√°p √°n D"],
    c:Math.floor(Math.random()*4)
  });
}

let selectedQuestions = [];
let timeLeft = 1 * 60; // 15 ph√∫t
let timerInterval;

// ====== H√ÄM TR·ªòN ======
function shuffle(arr){
  return arr.sort(()=>Math.random()-0.5);
}

// ====== B·∫ÆT ƒê·∫¶U THI ======
function startQuiz(){
  timeLeft = 1 * 60; // reset th·ªùi gian
  if(used){ alert("M√£ n√†y ƒë√£ thi r·ªìi!"); return; }
  const code = document.getElementById("code").value;
  if(code !== validCode){ alert("M√£ kh√¥ng h·ª£p l·ªá!"); return; }

  used = true;
  document.getElementById("login").style.display="none";
  document.getElementById("quiz").style.display="block";
  document.getElementById("timer").style.display="block";
  startTimer();

  selectedQuestions = shuffle([...allQuestions]).slice(0,24);
  selectedQuestions.forEach(q=> q.a = shuffle(q.a));

  renderQuiz();
}

// ====== HI·ªÇN TH·ªä C√ÇU H·ªéI ======
function renderQuiz(){
  const quiz = document.getElementById("quiz");
  quiz.innerHTML = "";

  selectedQuestions.forEach((item,index)=>{
    const div = document.createElement("div");
    div.className = "question";
    div.innerHTML = `<h3>C√¢u ${index+1}: ${item.q}</h3>`;
    item.a.forEach((ans,i)=>{
      div.innerHTML += `<label><input type='radio' name='q${index}' value='${i}'> ${ans}</label>`;
    });
    quiz.appendChild(div);
  });

  quiz.innerHTML += "<button type='button' onclick='submitQuiz()'>N·ªôp b√†i</button>";
}

// ====== ƒê·∫æM NG∆Ø·ª¢C TH·ªúI GIAN ======
function startTimer(){
  const timer = document.getElementById("timer");
  timerInterval = setInterval(()=>{
    let minutes = Math.floor(timeLeft/60);
    let seconds = timeLeft % 60;
    timer.innerHTML = `‚è≥ Th·ªùi gian: ${minutes}:${seconds.toString().padStart(2,'0')}`;
    timeLeft--;
    if(timeLeft < 0){
      clearInterval(timerInterval);
      alert("‚è∞ H·∫øt th·ªùi gian! B√†i thi s·∫Ω ƒë∆∞·ª£c n·ªôp t·ª± ƒë·ªông.");
      submitQuiz();
    }
  },1000);
}

// ====== CH·∫§M ƒêI·ªÇM ======
function submitQuiz(){
  clearInterval(timerInterval);
  let score = 0;
  selectedQuestions.forEach((item,index)=>{
    const checked = document.querySelector(`input[name='q${index}']:checked`);
    if(checked && parseInt(checked.value) === item.c){ score += 0.25; }
  });

  document.getElementById("quiz").style.display="none";
  document.getElementById("result").style.display="block";
  document.getElementById("result").innerHTML = `üéâ B·∫°n ƒë·∫°t: <b>${score.toFixed(2)}</b> ƒëi·ªÉm / 6 ƒëi·ªÉm`;
}
</script>
</body>
</html>
